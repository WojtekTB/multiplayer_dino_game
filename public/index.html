<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      #mainSketch {
        position: absolute;
        top: 0px;
        left: 0px;
      }
      #Stats {
        position: absolute;
        bottom: 20vh;
        left: 10px;
        color: black;
      }
      .button {
        position: absolute;
        max-width: 10vw;
      }
      #decreaseSpeed {
        left: 10px;
        bottom: 10px;
      }
      #addSpeed {
        right: 20px;
        bottom: 10px;
      }
      #speed {
        position: absolute;
        left: 40vw;
        bottom: 0px;
        color: black;
      }
      #game_over {
        position: absolute;
        left: 0vw;
        top: 20vh;
        width: 95vw;
        opacity: 0;
      }
      #name {
        position: absolute;
        left: 40vw;
        top: 35vh;
        width: 0px;
        opacity: 0;
      }
      #restart {
        position: absolute;
        left: 40vw;
        top: 40vh;
        color: black;
        width: 0vw;
        height: 10vh;
        background-color: aliceblue;
        opacity: 0;
        z-index: -1;
      }
      #Score {
        position: absolute;
        left: 20vw;
        bottom: 5vh;
      }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
    <script src="/socket.io/socket.io.js"></script>

    <script src="sketch.js"></script>
    <script src="./js/Player.js"></script>
    <script src="./js/CactusContainer.js"></script>
    <title>Client Side</title>
  </head>
  <body></body>
  <div id="mainSketch"></div>
  <div id="Stats">
    <p id="score">Score: 0 pt.</p>
    <p id="distance">Distance: 0 m.</p>
  </div>
  <input
    type="image"
    src="./images/elements/play1.png"
    class="button"
    id="decreaseSpeed"
    onclick="decreaseSpeed()"
  />
  <p id="speed">Speed:</p>
  <input
    type="image"
    src="./images/elements/play.png"
    class="button"
    id="addSpeed"
    onclick="addSpeed()"
  />
  <input type="text" id="name" />
  <img src="./images/game_over.png" id="game_over" />
  <!-- <input type="button" id="restart" onclick="reset();" /> -->
  <button id="restart" onclick="myReload()">
    Restart and Submit
  </button>
  <ul id="Score">
    <li>High Scores:</li>
  </ul>
  <script>
    // $("#restart").disabled = true;
    $("#restart").attr("disabled", true);
    $("#name").attr("disabled", true);
    function showGameOver() {
      $("#game_over").css("opacity", 100 + "%");
      $("#restart").css("opacity", 100 + "%");
      $("#restart").css("width", 30 + "vw");
      $("#restart").css("z-index", 1);
      $("#name").css("width", 30 + "vw");
      $("#name").css("opacity", 100 + "%");
      $("#restart").attr("disabled", false);
      $("#name").attr("disabled", false);
    }
    function myReload() {
      socket.emit("score", {
        name: $("#name").val(),
        score: mainPlayer.getScore()
      });
      window.location.reload();
    }
  </script>
</html>
